<html>
  <head>
    <title>ramendan</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
    <link rel="stylesheet" href="/styles.css">
<!-- 
    <script type="text/javascript" src="http://use.typekit.com/oqd2vvf.js"></script>
    <script type="text/javascript">try{Typekit.load()}catch(e){}</script>
 -->

    <script type="text/template" id="layout" lang="en">
      <body>#{this}</body>
    </script>

    <script type="text/template" id="index" lang="en">
      <h1 class="tk-neuzon">Ramendan</h1>
    </script>
    
    <script type="text/template" id="badge" lang="en">
      hello
    </script>

    <script type="text/template" id="user" lang="en">
      <div class="wrap">
        <header class="cf">
          <div id="logo-box"><h1 id="logo-user"><a href="">Ramendan<span>August 2011</span></a></h1></div>
          <ul class="user-stats cf">
            <li class="user-name"><a href="" class="twitter-user-img"><img height="48" width="48" src="#{this.img}" alt="#{this.name}" class="user-profile-link" data-user-id="815114"></a><a href="">#{this.handle}</a></li>
            <!-- show different classes for statuses
              devotee
              infidel etc
            -->
            <li class="user-status devotee">Devotee<span>Status</span></li>
            <li class="user-progress">#{this.score} / 100<span>Progress</span></li>
          </ul>
        </header>

        <div class="badge-box cf">
          <div class="badge-col">
            <strong class="badge-ttl">Unlocked Badges <span class="badge-ttl-sub">2pts / each</span></strong>
            #{templates.badge({
              name: "Preparation",
              unlocked: this.before && ("http://twitter.com/" + this.handle + "/status/" + this.before,
              how: "sending a valid observance tweet before ramendan"
            })}
          </div>
          <div class="badge-col">
            <div class="badge-item badge-invocation #{this.mention ? 'unlocked' : ''}">
              <strong>Invocation</strong>
            </div>
            <div class="badge-item badge-evangelism #{this.retweet ? 'unlocked' : ''}">
              <strong>Evangelism</strong>
              <p>native retweet a @ramendan tweet</p>
            </div>
          </div>	
          <div class="badge-col badge-col-last">
            <div class="badge-item badge-reverence #{this.hashtag ? 'unlocked' : ''}">
              <strong>Reverence</strong>
              <p>send a tweet with “#rAmen.”</p>
            </div>
            <div class="badge-item badge-discipline #{this.all ? 'unlocked' : ''}">
              <strong>Discipline</strong>
              <p>observe all 30 nights of ramendan</p>
            </div>
          </div>				
        </div>

        <div class="calendar-box">
        
          <ul class="weekday-names cf">
            <li>Sun</li>
            <li>Mon</li>
            <li>Tue</li>
            <li>Wed</li>
            <li>Thu</li>
            <li>Fri</li>
            <li>Sat</li>
          </ul>
          
          <div class="calendar cf">
            <!--NOTE 
              statuses are:
              day-missed 
              day-ramen 
              day-future			
            -->
          
          
            <!--week 1-->
            <div class="day">
              
            </div>
            <div class="day day-missed">
              <img src="/img/day-missed.png" />
            </div>
            <div class="day day-missed">
              <img src="/img/day-missed.png" />
            </div>
            <div class="day day-ramen">
              <a href="">
                <img src="/img/ramen1.jpg" />
              </a>
              
              <!--jquery?-->
              <span class="tweet">
                <span class="tweet-content">Afuri gentei  ramen, so yummy! Could eat everyday @ramendan. mmmhh I would like to have one tomorrow too. yup. actually am hungry right now.</span>
                <span class="speech-bubble">&nbsp;</span>
              </span>
            </div>									
            <div class="day day-ramen">
              <a href=""><img src="/img/ramen1.jpg" /></a>
              <span class="tweet" style="display:none;">
                <span class="tweet-content">Afuri gentei  ramen, so yummy! Could eat everyday @ramendan. mmmhh I would like to have one tomorrow too. yup. actually am hungry right now.</span>
                <span class="speech-bubble">&nbsp;</span>
              </span>						
            </div>
            <div class="day day-missed">
              <img src="/img/day-missed.png" />
            </div>
            <div class="day day-ramen">
              <a href=""><img src="/img/ramen1.jpg" /></a>
              <span class="tweet" style="display:none;">
                <span class="tweet-content">Afuri gentei  ramen, so yummy! Could eat everyday @ramendan. mmmhh I would like to have one tomorrow too. yup. actually am hungry right now.</span>
                <span class="speech-bubble">&nbsp;</span>
              </span>							
            </div>				
            
            <!--week 2-->
            <div class="day day-ramen">
              <a href=""><img src="/img/ramen1.jpg" /></a>
              <span class="tweet" style="display:none;">
                <span class="tweet-content">Afuri gentei  ramen, so yummy! Could eat everyday @ramendan. mmmhh I would like to have one tomorrow too. yup. actually am hungry right now.</span>
                <span class="speech-bubble">&nbsp;</span>
              </span>							
            </div>
            <div class="day day-missed">
               <img src="/img/day-missed.png" />
            </div>
            <div class="day day-ramen">
              <a href=""><img src="/img/ramen1.jpg" /></a>
              <span class="tweet" style="display:none;">
                <span class="tweet-content">Afuri gentei  ramen, so yummy! Could eat everyday @ramendan. mmmhh I would like to have one tomorrow too. yup. actually am hungry right now.</span>
                <span class="speech-bubble">&nbsp;</span>
              </span>							
            </div>
            <div class="day day-ramen">
              <a href=""><img src="/img/ramen1.jpg" /></a>
              <span class="tweet" style="display:none;">
                <span class="tweet-content">Afuri gentei  ramen, so yummy! Could eat everyday @ramendan. mmmhh I would like to have one tomorrow too. yup. actually am hungry right now.</span>
                <span class="speech-bubble">&nbsp;</span>
              </span>							
            </div>									
            <div class="day day-missed">
              <img src="/img/day-missed.png" />
            </div>
            <div class="day day-ramen">
              <a href=""><img src="/img/ramen1.jpg" /></a>
              <span class="tweet" style="display:none;">
                <span class="tweet-content">Afuri gentei  ramen, so yummy! Could eat everyday @ramendan. mmmhh I would like to have one tomorrow too. yup. actually am hungry right now.</span>
                <span class="speech-bubble">&nbsp;</span>
              </span>							
            </div>
            <div class="day day-ramen">
              <a href=""><img src="/img/ramen1.jpg" /></a>
              <span class="tweet" style="display:none;">
                <span class="tweet-content">Afuri gentei  ramen, so yummy! Could eat everyday @ramendan. mmmhh I would like to have one tomorrow too. yup. actually am hungry right now.</span>
                <span class="speech-bubble">&nbsp;</span>
              </span>							
            </div>
    
            <!--week 3-->
            <div class="day day-future">
              <strong>14</strong>
              <span>2pts</span>
            </div>
            <div class="day day-future">
              <strong>15</strong>
              <span>2pts</span>
            </div>
            <div class="day day-future">
              <strong>16</strong>
              <span>2pts</span>
            </div>
            <div class="day day-future">
              <strong>17</strong>
              <span>2pts</span>
            </div>									
            <div class="day day-future">
              <strong>18</strong>
              <span>2pts</span>
            </div>
            <div class="day day-future">
              <strong>19</strong>
              <span>2pts</span>
            </div>
            <div class="day day-future">
              <strong>20</strong>
              <span>2pts</span>
            </div>
            
            <!--week 4-->
            <div class="day day-future">
              <strong>21</strong>
              <span>2pts</span>
            </div>
            <div class="day day-future">
              <strong>22</strong>
              <span>2pts</span>
            </div>
            <div class="day day-future">
              <strong>23</strong>
              <span>2pts</span>
            </div>
            <div class="day day-future">
              <strong>24</strong>
              <span>2pts</span>
            </div>									
            <div class="day day-future">
              <strong>25</strong>
              <span>2pts</span>
            </div>
            <div class="day day-future">
              <strong>26</strong>
              <span>2pts</span>
            </div>
            <div class="day day-future">
              <strong>27</strong>
              <span>2pts</span>
            </div>
            
            <!--week 5-->
            <div class="day day-future">
              <strong>28</strong>
              <span>2pts</span>
            </div>
            <div class="day day-future">
              <strong>29</strong>
              <span>2pts</span>
            </div>
            <div class="day day-future">
              <strong>30</strong>
              <span>2pts</span>
            </div>
            <div class="day day-future">
              <strong>31</strong>
              <span>2pts</span>
            </div>
          </div>			
  
          <ul class="weekday-names cf">
            <li>Sun</li>
            <li>Mon</li>
            <li>Tue</li>
            <li>Wed</li>
            <li>Thu</li>
            <li>Fri</li>
            <li>Sat</li>
          </ul>
        </div>

      <!--#{JSON.stringify(this)}-->
    </script>

  </head>
  <body>
    <script>
       jsonp =
       function e(a,b,c,d){with(document)body.appendChild(createElement(d="script")).src=a+(c=d+(e.a=-~e.a));(a=window)[c]=function(d){a[c]=b(d)}}

       template =
       function(a,b){return function(c,d){return a.replace(/#{([^}]*)}/g,function(a,e){return Function("x","with(x)return "+e).call(c,d||b||{})})}}
       
       route = 
       function(a,b,c){function e(d){d=location.pathname;if(d!=c){for(b=0,c=d;(d=a[b++])&&!(d=d.exec(c));b++);a[b](d)}};e();setInterval(e,b||99)}
       
       getTemplates =
       function(a,b,c,d,e){for(b=document.getElementsByTagName(c="script"),d=0;e=b[d++];)e.src||/ipt$/.test(e.type||c)||a.call(e,e.innerHTML,e.id)}
       
       map = 
       Array.prototype.map=[].map||function(a){for(var b,c=this,d=Array(b=c.length),e=0;e<b;)d[e]=e in c&&a.call(arguments[1],c[e],e++,c);return d}
       
       
       templates = { en:{}, ja:{} }
       getTemplates(function(val, name) {
         templates[this.lang][name] = template(val, {templates: templates[this.lang]} )
       })
       
       route([
         /^\/$/,
         function() {
           jsonp( "/api?callback=", function( body ) {
             document.body.innerHTML = templates[body.lang].layout(
               templates[body.lang].index( body.data )
             )
           })
         },

         /^\/followers\/(\w+)$/,
         function(capture) {
           jsonp( "/api/users/" + capture[1] + "?callback=", function( body ) {
             document.body.innerHTML = templates[body.lang].layout(
               templates[body.lang].user( body.data )
             )
           })
         },
         
         /* 404 */,
         function() {
           document.body.innerHTML = templates.layout("404")
         }
       ])

    </script>
  </body>
</html>
